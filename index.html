<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Opus Machina ‚à¥ 0.1</title>
<style>
body{
  background:#000;
  color:#eee;
  font-family:monospace;
  margin:0;
  padding:0 20px 20px;
  text-align:center;
}

header{
  padding:12px 0;
  font-size:20px;
  border-bottom:1px solid #333;
}

.altar{
  width:300px;
  height:300px;
  margin:20px auto;
  border:2px solid #555;
  background:#111;
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  grid-template-rows:1fr 1fr 1fr;
  align-items:center;
  justify-items:center;
  position:relative;
  transition:box-shadow 1.5s ease, opacity 1.5s ease;
}

.altar.iniciado{
  box-shadow:0 0 35px gold;
  opacity:0.95;
}

.ar{grid-column:2;grid-row:1;}
.terra{grid-column:1;grid-row:2;}
.vela{grid-column:2;grid-row:2;}
.fogo{grid-column:3;grid-row:2;}
.agua{grid-column:2;grid-row:3;}

.elemento{
  font-size:32px;
  cursor:pointer;
  opacity:.5;
  transition:.3s;
}

.elemento.ativo{
  opacity:1;
  text-shadow:0 0 15px currentColor;
}

.ar.ativo{color:#fff}
.fogo.ativo{color:orange}
.agua.ativo{color:deepskyblue}
.terra.ativo{color:lime}

.vela{
  font-size:42px;
  cursor:pointer;
  transition:.3s;
  opacity:.5;
}

.vela.acesa{
  opacity:1;
  text-shadow:0 0 25px orange;
  transform:scale(1.2);
}

/* FA√çSCAS */
.faisca{
  position:absolute;
  animation:subir .8s ease-out forwards;
  font-size:22px;
  pointer-events:none;
}
@keyframes subir{
  to{transform:translateY(-30px);opacity:0;}
}

/* HALO */
.halo{
  position:absolute;
  width:140px;
  height:140px;
  border:2px solid gold;
  border-radius:50%;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%) scale(0);
  animation:halo 1.2s ease forwards;
}
@keyframes halo{
  50%{transform:translate(-50%,-50%) scale(1.2);opacity:1;}
  100%{transform:translate(-50%,-50%) scale(1);opacity:0;}
}

.halo-fixo{
  position:absolute;
  width:180px;
  height:180px;
  border:2px solid gold;
  border-radius:50%;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  animation:respirar 3s infinite;
}
@keyframes respirar{
  50%{opacity:.3;transform:translate(-50%,-50%) scale(1.08);}
}

#mensagens div{margin-top:6px;font-weight:bold}
#mensagem{color:#ffd700}
#tempo{color:#ffd700}
#tarotInstrucao{color:hotpink}
#tarotCarta{color:cyan;opacity:0;transform:translateY(15px);transition:.8s}
#tarotCarta.show{opacity:1;transform:none}

.loading span{
  animation:pontos 1.2s infinite;
  opacity:0;
}
.loading span:nth-child(2){animation-delay:.2s}
.loading span:nth-child(3){animation-delay:.4s}
@keyframes pontos{50%{opacity:1}}

#joker{
  font-size:40px;
  animation:giro 1.2s linear infinite;
}
@keyframes giro{to{transform:rotate(360deg)}}

textarea{
  width:100%;
  height:40px;
  background:#111;
  color:#eee;
  border:1px solid #444;
  margin-top:15px;
}

button{
  width:100%;
  padding:12px;
  margin-top:10px;
  background:#111;
  color:#eee;
  border:2px solid #666;
}
button:active{transform:scale(.95)}
</style>
</head>

<body>

<div id="modalIntro" style="
  position:fixed;
  top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.95);
  color:#eee;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-family:monospace;
  font-size:16px;
  z-index:9999;
">
  <div style="text-align:center;">
    <div style="font-size:20px; font-weight:bold; color:#ffd700; margin-bottom:8px;">OPUS MACHINA ‚à¥ 0.1</div>
    <div style="font-size:12px; opacity:0.7; margin-bottom:12px;">
      Tecnomancia para Ritual Digital
      <br> Para uma experi√™ncia imersiva, acesse pelo smartphone.
      <br>
      <br> Projeto de <strong style="color:#ffd700;">Frater Makarios</strong>
    </div>
    <button id="entrarAltar" style="
      padding:10px 20px; 
      font-size:14px; 
      cursor:pointer; 
      background:#111; 
      color:#ffd700; 
      border:2px solid #ffd700;
    ">Entrar no Altar</button>
  </div>
</div>

<header>Opus Machina ‚à¥ 0.1</header>

<div class="altar" id="altar">
  <div class="elemento ar">üå¨Ô∏è</div>
  <div class="elemento terra">üå±</div>
  <div class="vela" id="vela">üïØÔ∏è</div>
  <div class="elemento fogo">üî•</div>
  <div class="elemento agua">üíß</div>
</div>

<div id="mensagens">
  <div id="mensagem"></div>
  <div id="tempo"></div>
  <div id="tarotInstrucao"></div>
  <div id="tarotCarta"></div>
</div>

<textarea id="intencao" placeholder="Digite sua inten√ß√£o..."></textarea>
<button id="selar">ATIVAR INTEN√á√ÉO</button>
<button id="lerTarot">LER TAROT</button>

<script>
const altar=document.getElementById("altar");
const vela=document.getElementById("vela");
const elementos=document.querySelectorAll(".elemento");
const tempoEl=document.getElementById("tempo");
const mensagem=document.getElementById("mensagem");
const tarotInstrucao=document.getElementById("tarotInstrucao");
const tarotCarta=document.getElementById("tarotCarta");
const campo=document.getElementById("intencao");

let tempo=0,timer=null,modoIniciado=false,holdTimer=null;
const vibrar=p=>navigator.vibrate&&navigator.vibrate(p);

/* FA√çSCA */
function faisca(x,y){
  const f=document.createElement("div");
  f.className="faisca";
  f.style.left=x+"px";
  f.style.top=y+"px";
  f.innerText="‚ú®";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),800);
}

/* ELEMENTOS */
elementos.forEach(e=>{
  e.onclick=()=>{
    e.classList.toggle("ativo");
    const r=e.getBoundingClientRect();
    faisca(r.left+r.width/2,r.top);
    vibrar(60);
  }
});

/* MENSAGENS DA VELA */
const mensagensVela=[
  "Respire e concentre-se",
  "Visualize o intento",
  "Sinta a energia subir",
  "Prepare o selamento"
];

/* VELA */
vela.onclick=()=>{
  if(vela.classList.contains("acesa")){
    vela.classList.remove("acesa");
    clearInterval(timer);
    tempoEl.innerText="";
    mensagem.innerText="Vela apagada";
    return;
  }
  vela.classList.add("acesa");
  tempo=30;
  let idx=0;
  mensagem.innerText="Vela acesa";
  vibrar(200);
  timer=setInterval(()=>{
    tempo--;
    if(tempo>0){
      if(tempo%5===0 && idx<mensagensVela.length-1) idx++;
      tempoEl.innerText=`${tempo}s ‚Äî ${mensagensVela[idx]}`;
    }else{
      clearInterval(timer);
      tempoEl.innerText="Vela pronta para opera√ß√£o";
    }
  },1000);
};

/* FA√çSCAS DA VELA */
setInterval(()=>{
  if(vela.classList.contains("acesa")){
    const r=vela.getBoundingClientRect();
    faisca(r.left+r.width/2,r.top);
  }
},1600);


  
  
  
  /* SELAR */

document.getElementById("selar").onclick=()=>{
  if(!campo.value.trim()){
    mensagem.innerText="Digite uma inten√ß√£o antes de ativar";
    return;
  }
  if(!vela.classList.contains("acesa")){
    mensagem.innerText="A vela precisa estar acesa";
    return;
  }
  if(tempo>0){
    mensagem.innerText="Aguarde a vela concluir";
    return;
  }

  // NOVA VERIFICA√á√ÉO: todos os elementos precisam estar ativos
  const todosAtivos = Array.from(elementos).every(el => el.classList.contains("ativo"));
  if(!todosAtivos){
    mensagem.innerText="Todos os elementos precisam estar ativos para propagar a inten√ß√£o";
    return;
  }

  vibrar([400,100,500]);
  mensagem.innerText="INTEN√á√ÉO ATIVADA ‚Äî /emanando_energia";

  for(let i=0;i<3;i++){
    setTimeout(()=>{
      const h=document.createElement("div");
      h.className="halo";
      altar.appendChild(h);
      setTimeout(()=>h.remove(),1200);
    },i*400);
  }
};



  



  

/* TAROT - sem repeti√ß√µes at√© acabar o baralho */
const cartas=[
  ["O MAGO","Manifesta√ß√£o / Poder / A√ß√£o","Use sua vontade"],
  ["A SACERDOTISA","Intui√ß√£o / Mist√©rio / Sil√™ncio","Ou√ßa o invis√≠vel"],
  ["A IMPERATRIZ","Fertilidade / Abund√¢ncia / Criatividade","Valorize a vida que cria"],
  ["O IMPERADOR","Estrutura / Autoridade / Estabilidade","Assuma controle com sabedoria"],
  ["O HIEROFANTE","Tradi√ß√£o / Sabedoria / Orienta√ß√£o","Siga os caminhos do conhecimento"],
  ["OS AMANTES","Amor / Escolhas / Uni√£o","Harmonize decis√µes do cora√ß√£o"],
  ["O CARRO","Determina√ß√£o / Vit√≥ria / Movimento","Siga com foco e coragem"],
  ["A FOR√áA","Coragem / Dom√≠nio / Paci√™ncia","Controle gentilmente suas paix√µes"],
  ["O EREMISTA","Introspec√ß√£o / Sabedoria / Busca","Procure a verdade interior"],
  ["A RODA DA FORTUNA","Ciclos / Destino / Mudan√ßa","Aceite as mudan√ßas inevit√°veis"],
  ["A JUSTI√áA","Equil√≠brio / Verdade / Responsabilidade","Aja com retid√£o e clareza"],
  ["O PENDURADO","Sacrif√≠cio / Pausa / Reflex√£o","Veja o mundo de outra perspectiva"],
  ["A MORTE","Transforma√ß√£o / Fim / Renova√ß√£o","Aceite o fim como novo come√ßo"],
  ["A TEMPERAN√áA","Equil√≠brio / Modera√ß√£o / Cura","Harmonize e encontre o meio termo"],
  ["O DIABO","Apego / Ilus√£o / Tenta√ß√£o","Libere amarras e v√≠cios"],
  ["A TORRE","Ruptura / Verdade / Liberta√ß√£o","Nada falso permanece"],
  ["A ESTRELA","Esperan√ßa / Inspira√ß√£o / Cura","Confie no universo"],
  ["A LUA","Intui√ß√£o / Mist√©rio / Ilus√£o","Cuidado com enganos e emo√ß√µes ocultas"],
  ["O SOL","Clareza / Vitalidade / √äxito","A verdade ilumina"],
  ["O JULGAMENTO","Renascimento / Avalia√ß√£o / Chamado","Reflita e renas√ßa"],
  ["O MUNDO","Conclus√£o / Integra√ß√£o / Plenitude","Celebre conquistas e ciclos completos"]
];

let baralho = [...cartas];
function shuffleDeck() {
  for (let i = baralho.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [baralho[i], baralho[j]] = [baralho[j], baralho[i]];
  }
}
shuffleDeck();

document.getElementById("lerTarot").onclick = () => {
  if (baralho.length === 0) { // reembaralha se acabar
    baralho = [...cartas];
    shuffleDeck();
  }

  tarotCarta.classList.remove("show");
  tarotInstrucao.innerHTML = 'Mentalize sua pergunta <span class="loading"><span>.</span><span>.</span><span>.</span></span>';

  setTimeout(() => {
    tarotInstrucao.innerHTML = '<div id="joker">üÉè</div>';
    setTimeout(() => {
      const c = baralho.pop();
      tarotInstrucao.innerText = "";
      tarotCarta.innerHTML = `<strong>${c[0]}</strong><br>${c[1]}<br><em>${c[2]}</em>`;
      tarotCarta.classList.add("show");
      vibrar(150);
    }, 3000);
  }, 4000);
};

/* MODAL INTRO */
document.getElementById("entrarAltar").onclick = () => {
  document.getElementById("modalIntro").style.display = "none";
};
</script>

<footer style="
  margin-top:24px;
  padding:10px 0 6px;
  border-top:1px solid #222;
  font-family:monospace;
  font-size:11px;
  color:#777;
  text-align:center;
  letter-spacing:0.8px;
">
  <div>
    Projeto de <strong style="color:#ffd700;">Frater Makarios</strong>
  </div>
  <div style="margin-top:4px; font-size:10px; opacity:0.55;">
    Tecnomancia ¬∑ Ritual Digital ¬∑ Consci√™ncia Simb√≥lica
  </div>
  <div style="margin-top:6px; font-size:9px; opacity:0.4;">
    O s√≠mbolo responde √† aten√ß√£o ¬∑ A m√°quina apenas sustenta o rito
  </div>
</footer>

</body>
</html>









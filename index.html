/* TAROT - sem repeti√ß√µes at√© acabar o baralho */
const cartas=[
  ["O MAGO","Manifesta√ß√£o / Poder / A√ß√£o","Use sua vontade"],
  ["A SACERDOTISA","Intui√ß√£o / Mist√©rio / Sil√™ncio","Ou√ßa o invis√≠vel"],
  ["A IMPERATRIZ","Fertilidade / Abund√¢ncia / Criatividade","Valorize a vida que cria"],
  ["O IMPERADOR","Estrutura / Autoridade / Estabilidade","Assuma controle com sabedoria"],
  ["O HIEROFANTE","Tradi√ß√£o / Sabedoria / Orienta√ß√£o","Siga os caminhos do conhecimento"],
  ["OS AMANTES","Amor / Escolhas / Uni√£o","Harmonize decis√µes do cora√ß√£o"],
  ["O CARRO","Determina√ß√£o / Vit√≥ria / Movimento","Siga com foco e coragem"],
  ["A FOR√áA","Coragem / Dom√≠nio / Paci√™ncia","Controle gentilmente suas paix√µes"],
  ["O EREMISTA","Introspec√ß√£o / Sabedoria / Busca","Procure a verdade interior"],
  ["A RODA DA FORTUNA","Ciclos / Destino / Mudan√ßa","Aceite as mudan√ßas inevit√°veis"],
  ["A JUSTI√áA","Equil√≠brio / Verdade / Responsabilidade","Aja com retid√£o e clareza"],
  ["O PENDURADO","Sacrif√≠cio / Pausa / Reflex√£o","Veja o mundo de outra perspectiva"],
  ["A MORTE","Transforma√ß√£o / Fim / Renova√ß√£o","Aceite o fim como novo come√ßo"],
  ["A TEMPERAN√áA","Equil√≠brio / Modera√ß√£o / Cura","Harmonize e encontre o meio termo"],
  ["O DIABO","Apego / Ilus√£o / Tenta√ß√£o","Libere amarras e v√≠cios"],
  ["A TORRE","Ruptura / Verdade / Liberta√ß√£o","Nada falso permanece"],
  ["A ESTRELA","Esperan√ßa / Inspira√ß√£o / Cura","Confie no universo"],
  ["A LUA","Intui√ß√£o / Mist√©rio / Ilus√£o","Cuidado com enganos e emo√ß√µes ocultas"],
  ["O SOL","Clareza / Vitalidade / √äxito","A verdade ilumina"],
  ["O JULGAMENTO","Renascimento / Avalia√ß√£o / Chamado","Reflita e renas√ßa"],
  ["O MUNDO","Conclus√£o / Integra√ß√£o / Plenitude","Celebre conquistas e ciclos completos"]
];

// Cria uma c√≥pia do baralho e embaralha
let baralho = [...cartas];
function shuffleDeck() {
  for (let i = baralho.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [baralho[i], baralho[j]] = [baralho[j], baralho[i]];
  }
}
shuffleDeck();

document.getElementById("lerTarot").onclick = () => {
  if (baralho.length === 0) { // reembaralha se acabar
    baralho = [...cartas];
    shuffleDeck();
  }

  tarotCarta.classList.remove("show");
  tarotInstrucao.innerHTML = 'Mentalize sua pergunta <span class="loading"><span>.</span><span>.</span><span>.</span></span>';
  
  setTimeout(() => {
    tarotInstrucao.innerHTML = '<div id="joker">üÉè</div>';
    setTimeout(() => {
      const c = baralho.pop(); // pega a √∫ltima carta do baralho
      tarotInstrucao.innerText = "";
      tarotCarta.innerHTML = `<strong>${c[0]}</strong><br>${c[1]}<br><em>${c[2]}</em>`;
      tarotCarta.classList.add("show");
      vibrar(150);
    }, 1200);
  }, 3000);
};
